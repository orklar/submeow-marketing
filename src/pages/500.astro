---
import MarketingLayout from '../layouts/MarketingLayout.astro';
import Button from '../components/Button.astro';
import Mascot from '../components/Mascot.astro';
---

<MarketingLayout title="Something Went Wrong - SubMeow" description="Something went wrong on our end. Our team has been notified and is working on a fix.">

  <!-- ==========================================
       500 Hero Section
       ========================================== -->
  <section class="relative overflow-hidden bg-gradient-to-b from-accent-50 via-cream/20 to-white min-h-[80vh] flex items-center">
    <div class="max-w-4xl mx-auto px-6 lg:px-8 py-20 md:py-28 text-center">

      <!-- Large 500 Number -->
      <div class="relative mb-6">
        <span class="text-[10rem] sm:text-[12rem] md:text-[14rem] font-bold leading-none text-accent-100 select-none" aria-hidden="true">500</span>
        <!-- Cat mascot with "broken" feeling overlaid -->
        <div class="absolute inset-0 flex items-center justify-center">
          <div class="mascot-wobble">
            <Mascot emotion="worried" size={160} loading="eager" />
            <!-- Bandage icon floating near the cat -->
            <span class="absolute -top-2 -right-2 text-3xl sm:text-4xl bandage-float" role="img" aria-label="Bandage">&#129657;</span>
          </div>
        </div>
      </div>

      <!-- Headline -->
      <h1 class="text-3xl sm:text-4xl md:text-5xl font-bold text-dark-text mb-4">
        Something went wrong
      </h1>

      <!-- Subtitle -->
      <p class="text-lg md:text-xl text-light-text max-w-2xl mx-auto mb-10 leading-relaxed">
        Sub is having a bad hair day. Our team has been notified and is working on fixing this. Please try again in a moment.
      </p>

      <!-- Action Buttons -->
      <div class="flex flex-col sm:flex-row items-center justify-center gap-4 mb-12">
        <Button variant="primary" size="lg" href="javascript:location.reload()">
          <svg class="w-5 h-5 mr-2 shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15" />
          </svg>
          Try Again
        </Button>
        <Button variant="outline" size="lg" href="/">
          <svg class="w-5 h-5 mr-2 shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-4 0a1 1 0 01-1-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 01-1 1" />
          </svg>
          Go Home
        </Button>
      </div>

      <!-- Status Info Card -->
      <div class="max-w-lg mx-auto bg-white rounded-2xl shadow-sm border border-gray-100 p-6 mb-10">
        <div class="flex items-center gap-3 mb-4">
          <div class="w-3 h-3 bg-error-500 rounded-full pulse-dot"></div>
          <h2 class="text-sm font-semibold text-dark-text">System Status</h2>
        </div>
        <p class="text-sm text-light-text mb-4">
          We are aware of this issue and our engineering team is investigating. Most services are operating normally.
        </p>
        <a href="https://status.submeow.com" class="inline-flex items-center gap-2 text-sm font-semibold text-primary-500 hover:text-primary-600 transition-colors">
          <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z" />
          </svg>
          View Status Page
          <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14" />
          </svg>
        </a>
      </div>

      <!-- While You Wait Section -->
      <div class="max-w-lg mx-auto bg-cream/50 rounded-2xl border border-accent-200 p-6">
        <h2 class="text-sm font-semibold text-dark-text uppercase tracking-wider mb-3">While you wait...</h2>
        <div class="flex items-start gap-3">
          <Mascot emotion="worried" size={28} class="shrink-0" />
          <div class="text-left">
            <p class="text-sm font-semibold text-dark-text mb-1">Did you know?</p>
            <p class="text-sm text-light-text leading-relaxed">
              The average person has 12 active subscriptions and forgets about 2-3 of them each year. That is roughly $500 in wasted spending. Sub is here to make sure that never happens to you!
            </p>
          </div>
        </div>
      </div>

      <!-- Contact Support Link -->
      <p class="mt-8 text-sm text-light-text">
        Still having trouble?
        <a href="/contact" class="text-primary-500 hover:text-primary-600 font-semibold transition-colors">Contact our support team</a>
      </p>

    </div>

    <!-- Decorative blurred circles -->
    <div class="absolute top-1/4 right-1/6 w-64 h-64 bg-accent-200/20 rounded-full blur-3xl -z-10" aria-hidden="true"></div>
    <div class="absolute bottom-1/3 left-1/6 w-48 h-48 bg-primary-200/20 rounded-full blur-3xl -z-10" aria-hidden="true"></div>

    <!-- Bottom gradient fade -->
    <div class="absolute bottom-0 left-0 right-0 h-24 bg-gradient-to-t from-white to-transparent pointer-events-none" aria-hidden="true"></div>
  </section>

</MarketingLayout>

<style>
  /* ==========================================
     Wobble Animation for Error Cat
     ========================================== */
  @keyframes mascotWobble {
    0%, 100% {
      transform: rotate(-2deg);
    }
    25% {
      transform: rotate(2deg) translateY(-4px);
    }
    50% {
      transform: rotate(-1deg);
    }
    75% {
      transform: rotate(1deg) translateY(-6px);
    }
  }

  .mascot-wobble {
    animation: mascotWobble 5s ease-in-out infinite;
    display: inline-block;
    position: relative;
  }

  /* ==========================================
     Bandage Float Animation
     ========================================== */
  @keyframes bandageFloat {
    0%, 100% {
      transform: translateY(0) rotate(0deg);
    }
    50% {
      transform: translateY(-6px) rotate(10deg);
    }
  }

  .bandage-float {
    animation: bandageFloat 3s ease-in-out infinite;
    display: inline-block;
  }

  /* ==========================================
     Pulse Dot for Status
     ========================================== */
  @keyframes pulseDot {
    0%, 100% {
      opacity: 1;
      transform: scale(1);
    }
    50% {
      opacity: 0.5;
      transform: scale(1.3);
    }
  }

  .pulse-dot {
    animation: pulseDot 2s ease-in-out infinite;
  }

  /* ==========================================
     Reduced Motion
     ========================================== */
  @media (prefers-reduced-motion: reduce) {
    .mascot-wobble,
    .bandage-float,
    .pulse-dot {
      animation: none;
    }
  }
</style>
